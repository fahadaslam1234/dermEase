<div *ngIf="!isLoggedIn()">
  <div class="hero-section" >
    <div class="hero-content">
    <h2>Find a</h2>
    <h1 class="title">DERMATOLOGIST</h1>
  </div>
</div>

<div class="info-section">
  <h2>Want to connect with a dermatologist?</h2>
  <h3>You have to <span class="signIn" (click)="toLogin()">Sign-Up</span>  or
    <span class="signIn" (click)="toLogin()">Sign-in</span> First !</h3>
  <p>
    DermEase is designed for healthier skin â€“ and part of that routine is having a
    good dermatologist on your side. Talk to a professional today and get answers to your
    most pressing skincare questions.
  </p>
</div>

<div class="connect-section">
  <div class="connect-item">
    <img src="../../../assets/images/FindADerm.jpg" width="373" height="222"  alt="Virtual Connection" />
    <h3>Connect via Video Call</h3>
    <p>
      Book a video consultation for expert dermatological care from the comfort of your home.
    </p>
  </div>
  <div class="connect-item">
    <img src="../../../assets/images/forchat.png" width="373" height="222" alt="In-Person Connection" />
    <h3>Connect via Chat</h3>
    <p>
      Start a chat with a dermatologist for quick advice and personalized skin care guidance.
    </p>
  </div>
</div>
</div>


<div *ngIf="isLoggedIn()">
  <div class="container" *ngIf="!isDermatologist">
    <div class="appointment-container">
      <div class="image-container">
        <img src="../../../assets/images/vision.jpg" alt="Doctor" />
      </div>

      <div class="appointment-form">
        <h2>Book Appointment</h2>
        <p>
          Fill in the details below to book a consultation with one of our experienced dermatologists and take the first step toward healthier, radiant skin.
        </p>
        <form>

          <div class="form-fields">
            <mat-form-field appearance="fill" style="min-width:400px">
              <mat-label>Patient Name</mat-label>
              <input matInput placeholder="Patient Name" required />
            </mat-form-field>

            <mat-form-field appearance="fill">
              <mat-label>Email</mat-label>
              <input matInput type="email" placeholder="Email" required />
            </mat-form-field>

            <mat-form-field appearance="fill">
              <mat-label>Phone</mat-label>
              <input matInput type="tel" placeholder="Phone" required />
            </mat-form-field>

            <mat-form-field appearance="fill">
              <mat-label>Select Department</mat-label>
              <mat-select required>
                <mat-option *ngFor="let department of departments" [value]="department">
                  {{ department }}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="fill">
              <mat-label>Select Doctor</mat-label>
              <mat-select required>
                <mat-option *ngFor="let doctor of doctors" [value]="doctor">
                  {{ doctor }}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="fill">
              <mat-label>Date</mat-label>
              <input matInput [matDatepicker]="picker" placeholder="dd/mm/yyyy" />
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>

            <mat-form-field appearance="fill">
              <mat-label>Select Time</mat-label>
              <mat-select required>
                <mat-option *ngFor="let time of times" [value]="time">
                  {{ time }}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="fill">
              <mat-label>Message</mat-label>
              <textarea matInput placeholder="Message"></textarea>
            </mat-form-field>
          </div>


          <button  class="primary-button submit-btn">
            Book Appointment
          </button>
        </form>
      </div>

    </div>

    <div class="doctor-card-container">
      <div class="doctor-card" *ngFor="let doctor of doctorsDetails" (click)="viewDoctorDetails(doctor)">
        <img [src]="doctor.image" alt="{{ doctor.name }}" class="doctor-image"/>
        <div class="doctor-info">
          <h3>{{ doctor.name }}</h3>
          <p>{{ doctor.specialty }}</p>
          <p>{{ doctor.availability }}</p>
          <p>{{ doctor.bio }}</p>
        </div>
      </div>
    </div>
  </div>



  <div class="doctor-dashboard-container" *ngIf="isDermatologist">
    <h2>Dermatologist Dashboard</h2>

    <!-- Appointments Section -->
    <div class="section">
      <h3>Upcoming Appointments</h3>
      <table>
        <thead>
          <tr>
            <th>Patient Name</th>
            <th>Date</th>
            <th>Time</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let appointment of appointments">
            <td>{{ appointment.patientName }}</td>
            <td>{{ appointment.date | date }}</td>
            <td>{{ appointment.time }}</td>
            <td class="action-buttons">
              <button class="primary-button" (click)="initiateVideoCall(appointment)">  <mat-icon>videocam</mat-icon>  <span>Start Video Call</span> </button>
              <button class="primary-button" (click)="initiateChat(appointment)"> <mat-icon class="mat-18">chat</mat-icon> <span>Start Chat</span> </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Incoming Call Section -->
    <div class="section" *ngIf="incomingCall">
      <h3>Incoming Video Call from {{ incomingCall.patientName }}</h3>
      <div class="action-buttons">
        <button class="primary-button"   (click)="acceptVideoCall()">Accept</button>
        <button class="primary-button"  (click)="rejectVideoCall()">Reject</button>
      </div>

    </div>

    <!-- Notifications Section -->
    <div class="section">
      <h3>Notifications</h3>
      <div *ngFor="let notification of notifications">
        <p>{{ notification.message }}</p>
      </div>
      <p *ngIf="notifications.length === 0">No notifications at the moment.</p>
    </div>
  </div>

</div>






