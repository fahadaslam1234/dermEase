<header class="header">
  <div class="container">
    <div class="search-container">

      <div  class="search-bar">
        <input
          type="text"
          placeholder="Search for products"
          [(ngModel)]="searchQuery"
          (keyup.enter)="onSearch()"
          (input)="onInputChange()"
          *ngIf="isSearchBarVisible"
        />
        <div class="search-icon" (click)="toggleSearch()">
          <mat-icon>search</mat-icon>
        </div>
      </div>

    </div>

    <div class="logo">
      <img src="../../../assets/images/Glowcart.png" routerLink="/" alt="" width="120" height="100" />
    </div>

    <div class="icons">
      <span (click)="toggleCart()" (click)="onCart()"><mat-icon>add_shopping_cart</mat-icon>
        <span class="badge">{{ cartCount }}</span></span>
      <ul>
        <li class="dropdown">
          <span  routerLink="/account">
            <mat-icon>account_circle</mat-icon>
            <span *ngIf="isLoggedIn()" > {{ user?.user_name }} </span>
          </span>
          <ul class="dropdown-content">
            <!-- Show Admin Settings if user is an admin -->
            <ol  routerLink="/admin">
              <span>Admin Dashboard</span>
            </ol>

            <!-- Show Login/Signup if user is not logged in -->
            <ol  routerLink="/login">
              <span>Login / Sign Up</span>
            </ol>

            <!-- Show Logout if user is logged in -->
            <ol *ngIf="isLoggedIn()" (click)="logout()">
              <span>Logout</span>
            </ol>
          </ul>
        </li>
      </ul>
      <mat-icon class="hamburger" (click)="openNav()">menu</mat-icon>

      <!-- Side navigation -->
      <div id="mySidenav" class="sidenav">
        <mat-icon href="javascript:void(0)" class="closebtn" (click)="closeNav()">close</mat-icon>

        <span routerLink="/"  (click)="closeNav()">Home</span>
        <span routerLink="/shop/allprodcuts"  (click)="closeNav()">Shop</span>
        <span routerLink="/about"  (click)="closeNav()">About</span>
        <span routerLink="/contact"  (click)="closeNav()">Contact</span>
      </div>
    </div>
  </div>

  <nav class="nav">
    <ul>
      <li><span routerLink="/">Home</span></li>
      <li class="dropdown">
        <span routerLink="/shop/allprodcuts">Shop</span>
      </li>
      <li><span routerLink="/about">About</span></li>
      <li><span routerLink="/contact">Contact</span></li>
    </ul>
  </nav>
</header>
