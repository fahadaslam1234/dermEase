<div class="container">
  <div class="intro" *ngIf="isIntro">
    <button class="intro-button primary-button" (click)="startStepper()">LET'S FIND YOUR SKIN DISEASE !</button>
  </div>
  <div *ngIf="!isIntro && showStepper && !isDisease">
    <mat-horizontal-stepper [linear]="true" #stepper class="custom-stepper">
      <mat-step>
        <form [formGroup]="firstFormGroup">
          <h2>Upload Your Skin Image</h2>
          <p>Please attach an image for analysis.</p>
          <div class="file-input-container">
            <button class="primary-button" type="button"  (click)="fileInput.click()"> <mat-icon> attach_file</mat-icon> BROWSE</button>
            <input
              type="file"
              hidden
              #fileInput
              accept="image/*"
              (change)="onFileSelected($event)" />
          </div>
          <div class="image-preview" *ngIf="imagePreview">
            <img [src]="imagePreview" alt="Selected Image" />
          </div>
          <div>
            <button class="primary-button" type="button"  [disabled]="!selectedFile" (click)="onUpload(selectedFile)">PREDIT DISEASE</button>
          </div>
        </form>
      </mat-step>
    </mat-horizontal-stepper>

  </div>

  <div *ngIf="disease">
    <h2>Analysis Result</h2>
    <div class="image-preview" *ngIf="imagePreview">
      <img [src]="imagePreview" alt="Selected Image" />
    </div>
    <p >Identified Disease: {{ disease }}</p>
  </div>

  <div class="stepper-instructions">
    <h3>Curious about what's affecting your skin?</h3>
    <h4>DermEase's Skin Disease Predictor is here to guide you!</h4>
    <p>This tool is designed to provide insights into common skin conditions. For accurate diagnosis and personalized care, we recommend consulting a qualified dermatologist or healthcare professional.</p>
  </div>
</div>
